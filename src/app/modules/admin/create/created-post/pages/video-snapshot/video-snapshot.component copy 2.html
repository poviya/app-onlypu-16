<fieldset class="w-full rounded-xl border border-zinc-200 dark:border-zinc-700  p-4 sm:p-6 shadow-xl bg-zinc-50 dark:bg-zinc-800 dark:text-zinc-200 ">
  <div class="my-4">
    <h1 class="text-xl font-bold">Upload video</h1>
    <h2 class="text-lg font-light text-gray-400">Post a video to your account</h2>
  </div>
  <form [formGroup]="myform" novalidate class="sm:px-0">

    <div class="mb-4 flex flex-col">
      <div class="flex justify-between">
        <label for="email" class="mb-2 font-semibold ">Caption</label>
      </div>
      <div class="relative">
          <textarea formControlName="description" id="text" 
          [ngClass]="{
              'bg-green-50 border-green-400': myform.controls['description'].valid && (myform.controls['description'].dirty || myform.controls['description'].touched),
              'bg-red-50 border-red-400': myform.controls['description'].invalid && (myform.controls['description'].dirty || myform.controls['description'].touched)
            }"
          class="w-full rounded-lg border  border-zinc-300 px-2 py-2  hover:border-zinc-300 focus:outline-none focus:ring focus:ring-zinc-500/40 active:ring active:ring-zinc-500/40 dark:bg-zinc-700 dark:border-zinc-800">
          </textarea>
      </div>
    </div>

    <div class="mt-4 flex flex-col">
      <div class="flex justify-between">
        <label for="email" class="mb-2 font-semibold ">Who can watch this video</label>
      </div>
      <div class="relative w-24">

          <select formControlName="typeView"
          [ngClass]="{
              'bg-green-50 border-green-400': myform.controls['typeView'].valid && (myform.controls['typeView'].dirty || myform.controls['typeView'].touched),
              'bg-red-50 border-red-400': myform.controls['typeView'].invalid && (myform.controls['typeView'].dirty || myform.controls['typeView'].touched)
          }"
          class="w-full rounded-lg border  border-zinc-300 px-2 py-2  hover:border-zinc-300 focus:outline-none focus:ring focus:ring-zinc-500/40 active:ring active:ring-zinc-500/40 dark:bg-zinc-700 dark:border-zinc-800">
              <option *ngFor="let item of typeViewArray" value="{{item.value}}">{{item.name}}</option>
          </select>
      </div>
    </div>
    
    <div class="mt-4">
      <div class="flex justify-start">
        <div class="input_field flex flex-col text-center">
          <label>
              <input 
              class="text-sm cursor-pointer w-36 hidden" 
              type="file" 
              formControlName="filePromotional"
              id="filePromotional" 
              accept="image/gif"
              (change)="readPresentation($event)"/>
              <div class="text bg-primary-600 text-white rounded-full font-normal cursor-pointer space-x-1 p-2 px-3 hover:bg-primary-600 flex items-center">
                <div>
                  <svg class="text-white w-5 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" /></svg>
                </div>
                <span>Promotional gif </span>
              </div>
          </label>
        </div>
      </div>
    </div>
  
    <div *ngIf="videoPresentationUrl" class="mt-4">
      <img src="{{videoPresentationUrl}}" class=" object-cover video h-80">
    </div>

      <!-- <input type='file' class="" accept="video/*" #fileElement (change)="readUrl($event, linkUrl)"> -->
    
      <!-- <div   class="extraOutline bg-white w-full h-72  bg-whtie m-auto rounded-lg">
        <div class="file_upload p-5 relative border-4 border-dotted h-72 border-gray-300 rounded-lg">
            <svg class="text-primary-600 w-24 mx-auto mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" /></svg>
            <div class="input_field flex flex-col w-max mx-auto text-center">
                <label>
                    <input 
                    class="text-sm cursor-pointer w-36 hidden" 
                    type="file" 
                    formControlName="file"
                    id="file" 
                    accept="video/*"
                    #fileElement (change)="readUrl($event)"/>
                    <div class="text bg-primary-600 text-white border border-gray-300 rounded font-semibold cursor-pointer p-1 px-3 hover:bg-primary-600">
                      Select file
                    </div>
                </label>

                <div class="title text-primary-600 uppercase">Select video to upload</div>
            </div>
        </div>
      </div> -->
        
      <!-- <div class="hidden">
        <span class="col-sm-12 text-center">or</span>
      </div>

      <div class="hidden">
        <input type="text" class="form-control" style="height:42px;" #linkUrl placeholder=" Paste URL here"/>
        <button class="btn btn-info ml-1 pl-3 pr-3" style="height:42px;" (click)="getLink(linkUrl, fileElement)">GO</button>
      </div> -->

      <div class="mt-4">
        <div class="flex justify-start">
          <div class="input_field flex flex-col text-center">
            <label>
                <input 
                class="text-sm cursor-pointer w-36 hidden" 
                type="file" 
                formControlName="file"
                id="file" 
                accept="video/*"
                #fileElement (change)="readUrl($event)"/>
                <div class="text bg-primary-600 text-white rounded-full font-normal cursor-pointer space-x-1 p-2 px-3 hover:bg-primary-600 flex items-center">
                  <div>
                    <svg class="text-white w-5 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" /></svg>
                  </div>
                  <span>Select video to upload</span>
                </div>
            </label>
        </div>
        </div>
      </div>
     
      <div  class="mt-4">
        <div *ngIf="loadingState" class="animate-pulse bg-zinc-800 shadow p-4 video h-80">
          <!-- <div class="animate-pulse flex space-x-4">
            <div class="rounded-full bg-slate-700 h-10 w-10"></div>
            <div class="flex-1 space-y-6 py-1">
              <div class="h-2 bg-slate-700 rounded"></div>
              <div class="space-y-3">
                <div class="grid grid-cols-3 gap-4">
                  <div class="h-2 bg-slate-700 rounded col-span-2"></div>
                  <div class="h-2 bg-slate-700 rounded col-span-1"></div>
                </div>
                <div class="h-2 bg-slate-700 rounded"></div>
              </div>
            </div>
          </div> -->
        </div>
        <!-- <img src="https://tethrdnation.com/wp-content/uploads/2022/02/Comp-2.gif" class=" object-cover video h-80" *ngIf="loadingState"> -->
        <video playsinline controls preload="none" #videoElement class=" bg-black video h-80" controls disablePictureInPicture controlsList="nodownload noplaybackrate " crossorigin="anonymous" *ngIf="videoLoaded">
          <source [src]="videoUrl" type="video/mp4">
        </video>
      </div>
    

    <div class="flex justify-center space-x-5 mt-5">
      <button
          (click)="onDiscard()"
          class=" py-3 px-20 shadow-sm bg-white hover:bg-gray-100 border border-gray-300 uppercase text-gray-900 rounded-full" 
          >
          Discard
      </button>
      <button
          (click)="onSubmit()"
          [ngClass]="myform.status == 'VALID' ? '' : 'opacity-50'" 
          class=" py-3 px-20 shadow-sm bg-primary-600 hover:bg-primary-700 border-primary-700 uppercase text-white rounded-full" 
          [disabled]="myform.status == 'VALID' ? false: true">
          Post
      </button>
    </div>
  </form>
</fieldset>

  <div mode="buffer" *ngFor="let progress of progressInfo">
        <span>{{progress.fileName}}</span>
        <span>{{progress.value}}%</span>
        <div id="progressbar">
          {{progress.value}}
        </div>
    </div>

<!-- <div class="row m-3 col-sm-2"><button class="btn btn-info downloadBtn" (click)="takeSnapshot()" *ngIf="videoLoaded">Download Snapshot</button></div> -->

<!-- <div class="fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center">
	<div class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"></div>
	<h2 class="text-center text-white text-xl font-semibold">Loading...</h2>
	<p class="w-1/3 text-center text-white">This may take a few seconds, please don't close this page.</p>
</div>

<button>hey</button> -->